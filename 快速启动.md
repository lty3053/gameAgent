# 🚀 快速启动指南

## ⚠️ 重要提示

所有文件已恢复！现在需要安装依赖并启动服务。

## 1️⃣ 后端启动

```bash
cd backend

# 如果还没有虚拟环境，创建一个
python -m venv venv

# 激活虚拟环境
# Windows PowerShell:
.\venv\Scripts\Activate.ps1
# Windows CMD:
venv\Scripts\activate.bat
# Linux/Mac:
source venv/bin/activate

# 安装依赖
pip install -r requirements.txt

# 复制环境变量文件
copy .env.example .env
# 或 Linux/Mac: cp .env.example .env

# 编辑 .env 文件，确保 S3_SECRET_KEY 已填写

# 初始化数据库（如果还没有）
python -c "from database.models import init_db; init_db()"

# 启动后端
python app.py
```

后端将在 **http://localhost:5000** 启动

## 2️⃣ 前端启动

**新开一个终端窗口：**

```bash
cd frontend

# 前端依赖已经安装，直接启动
pnpm start

# 如果需要重新安装依赖：
# pnpm install
```

前端将在 **http://localhost:3000** 启动并自动打开浏览器

## 3️⃣ 验证服务

### 检查后端
访问: http://localhost:5000/health

应该返回:
```json
{"status": "healthy"}
```

### 检查前端
访问: http://localhost:3000

应该看到聊天界面

## 📝 配置检查清单

- [ ] PostgreSQL 已启动（端口 5432）
- [ ] `backend/.env` 文件已创建并配置
- [ ] S3_SECRET_KEY 已填写
- [ ] S3_BUCKET 设置为 `ltygames2`
- [ ] QWEN_MODEL 设置为 `qwen3-max`
- [ ] 后端虚拟环境已激活
- [ ] 后端依赖已安装
- [ ] 前端依赖已安装

## 🔧 常见问题

### 后端启动失败

**问题**: `ModuleNotFoundError: No module named 'flask'`

**解决**: 
```bash
# 确保虚拟环境已激活
pip install -r requirements.txt
```

**问题**: 数据库连接失败

**解决**: 
1. 检查 PostgreSQL 是否运行
2. 检查 `.env` 中的数据库配置
3. 运行 `psql -U postgres` 测试连接

### 前端编译失败

**问题**: `Module not found`

**解决**:
```bash
pnpm install
```

### S3 上传失败

**问题**: CORS 错误

**解决**: 在 Tebi.io 控制台配置 CORS，允许所有方法和来源

## 🎮 开始使用

1. 打开 http://localhost:3000
2. 在聊天框输入："我想玩只狼"
3. AI 会搜索数据库并返回结果
4. 点击"上传游戏"按钮上传新游戏

## 📚 更多文档

- 后端 API 文档: `backend/README.md`
- 前端开发指南: `frontend/README.md`
- 项目总览: `README.md`
