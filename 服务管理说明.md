# Game Agent æœåŠ¡ç®¡ç†è¯´æ˜

## âœ… æœåŠ¡å·²æˆåŠŸéƒ¨ç½²

### ğŸ“Š æœåŠ¡ä¿¡æ¯
- **åç«¯**: http://localhost:5000
- **å‰ç«¯**: http://localhost:3000
- **æ•°æ®åº“**: PostgreSQL 12 (ç«¯å£ 5432)
- **Python ç‰ˆæœ¬**: 3.11 (é€šè¿‡ uv ç®¡ç†)
- **Node.js ç‰ˆæœ¬**: 18.20.8

---

## ğŸ¯ å¸¸ç”¨å‘½ä»¤

### å¯åŠ¨æœåŠ¡
```bash
cd /usr/games/gameAgent
./start_services.sh
```

### åœæ­¢æœåŠ¡
```bash
cd /usr/games/gameAgent
./stop_services.sh
```

### æŸ¥çœ‹çŠ¶æ€
```bash
cd /usr/games/gameAgent
./check_status.sh
```

### æŸ¥çœ‹æ—¥å¿—
```bash
# åç«¯æ—¥å¿—
tail -f /tmp/backend.log

# å‰ç«¯æ—¥å¿—
tail -f /tmp/frontend.log
```

---

## ğŸ”§ æŠ€æœ¯æ ˆ

### åç«¯
- **æ¡†æ¶**: Flask 3.0
- **æ•°æ®åº“**: PostgreSQL 12
- **ORM**: SQLAlchemy 2.0
- **è¿ç§»**: Alembic
- **AI**: LangChain 0.3.7 + LangGraph 0.2.45
- **å­˜å‚¨**: Tebi.io S3 (boto3)
- **åŒ…ç®¡ç†**: uv

### å‰ç«¯
- **æ¡†æ¶**: React 18
- **UI**: Ant Design 5
- **è·¯ç”±**: React Router v6
- **HTTP**: Axios
- **åŒ…ç®¡ç†**: pnpm

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
/usr/games/gameAgent/
â”œâ”€â”€ backend/              # åç«¯ä»£ç 
â”‚   â”œâ”€â”€ .venv/           # Python è™šæ‹Ÿç¯å¢ƒ (uv ç®¡ç†)
â”‚   â”œâ”€â”€ .env             # ç¯å¢ƒå˜é‡é…ç½®
â”‚   â”œâ”€â”€ app.py           # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ config.py        # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ routes/          # API è·¯ç”±
â”‚   â”œâ”€â”€ services/        # ä¸šåŠ¡æœåŠ¡
â”‚   â””â”€â”€ database/        # æ•°æ®åº“æ¨¡å‹
â”œâ”€â”€ frontend/            # å‰ç«¯ä»£ç 
â”‚   â”œâ”€â”€ node_modules/    # å‰ç«¯ä¾èµ–
â”‚   â”œâ”€â”€ src/             # æºä»£ç 
â”‚   â””â”€â”€ public/          # é™æ€èµ„æº
â”œâ”€â”€ start_services.sh    # å¯åŠ¨æœåŠ¡è„šæœ¬
â”œâ”€â”€ stop_services.sh     # åœæ­¢æœåŠ¡è„šæœ¬
â”œâ”€â”€ check_status.sh      # æ£€æŸ¥çŠ¶æ€è„šæœ¬
â””â”€â”€ setup_with_uv.sh     # å®Œæ•´åˆå§‹åŒ–è„šæœ¬
```

---

## ğŸ”‘ ç¯å¢ƒå˜é‡é…ç½®

é…ç½®æ–‡ä»¶ä½ç½®: `/usr/games/gameAgent/backend/.env`

å·²é…ç½®çš„å…³é”®ä¿¡æ¯:
- æ•°æ®åº“: ltygames (localhost:5432)
- S3 å­˜å‚¨: ltygames bucket (Tebi.io)
- AI æ¨¡å‹: é˜¿é‡Œäº‘åƒé—® qwen3-max

---

## ğŸš€ æœåŠ¡ä»¥åå°æ¨¡å¼è¿è¡Œ

ä¸¤ä¸ªæœåŠ¡éƒ½ä½¿ç”¨ `nohup` ä»¥åå°æ¨¡å¼è¿è¡Œ:
- åç«¯è¿›ç¨‹ PID ä¿å­˜åœ¨: `/tmp/backend.pid`
- å‰ç«¯è¿›ç¨‹ PID ä¿å­˜åœ¨: `/tmp/frontend.pid`
- æ—¥å¿—æ–‡ä»¶ä½äº: `/tmp/backend.log` å’Œ `/tmp/frontend.log`

---

## ğŸ’¡ æç¤º

1. **é‡å¯æœåŠ¡**: å…ˆè¿è¡Œ `./stop_services.sh`ï¼Œå†è¿è¡Œ `./start_services.sh`
2. **æŸ¥çœ‹å®æ—¶æ—¥å¿—**: ä½¿ç”¨ `tail -f` å‘½ä»¤
3. **ä¿®æ”¹é…ç½®**: ç¼–è¾‘ `backend/.env` åéœ€è¦é‡å¯åç«¯æœåŠ¡
4. **uv å‘½ä»¤**: å¦‚æœéœ€è¦æ‰‹åŠ¨ä½¿ç”¨ uvï¼Œå…ˆè¿è¡Œ `export PATH="$HOME/.local/bin:$PATH"`

---

## ğŸ› æ•…éšœæ’æŸ¥

### æœåŠ¡æ— æ³•å¯åŠ¨
```bash
# æ£€æŸ¥æ—¥å¿—
tail -100 /tmp/backend.log
tail -100 /tmp/frontend.log

# æ£€æŸ¥ç«¯å£å ç”¨
ss -tuln | grep -E ':(5000|3000)'

# æ¸…ç†æ®‹ç•™è¿›ç¨‹
pkill -f "python.*app.py"
pkill -f "react-scripts start"
```

### æ•°æ®åº“è¿æ¥å¤±è´¥
```bash
# æ£€æŸ¥ PostgreSQL çŠ¶æ€
service postgresql status

# å¯åŠ¨ PostgreSQL
service postgresql start
```

---

## ğŸ“ æ›´æ–°æ—¥å¿—

- **2025-11-25**: åˆå§‹éƒ¨ç½²å®Œæˆ
  - ä½¿ç”¨ uv ç®¡ç† Python 3.11 ç¯å¢ƒ
  - é…ç½® S3 å­˜å‚¨å’Œ AI æ¨¡å‹
  - åç«¯å’Œå‰ç«¯å‡ä»¥åå°æ¨¡å¼è¿è¡Œ
